{"ast":null,"code":"import _asyncToGenerator from\"/Users/bhavindivecha/Desktop/All Zips/SS_Project/ultron-official/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"/Users/bhavindivecha/Desktop/All Zips/SS_Project/ultron-official/node_modules/@babel/runtime/regenerator/index.js\";import{useEffect}from'react';function LoadScript(src){return new Promise(function(resolve){var script=document.createElement('script');script.src=src;document.body.appendChild(script);script.onload=function(){resolve(true);};script.onerror=function(){resolve(false);};});}function CallScript(){return _CallScript.apply(this,arguments);}function _CallScript(){_CallScript=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var loadScript;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return LoadScript('https://checkout.razorpay.com/v1/checkout.js');case 2:loadScript=_context.sent;if(loadScript){_context.next=8;break;}alert('Failed To Init Razor Pay');return _context.abrupt(\"return\");case 8:alert('Success To Init Razor Pay');case 9:return _context.abrupt(\"return\",loadScript);case 10:case\"end\":return _context.stop();}}},_callee);}));return _CallScript.apply(this,arguments);}function AddRazorPayScript(){return _AddRazorPayScript.apply(this,arguments);}function _AddRazorPayScript(){_AddRazorPayScript=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var data,options,rzp1;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:// const script = CallScript();\n// const datas;\nconsole.log(document.getElementById(\"amount\").value);_context3.next=3;return fetch('https://payment-ultron-official.netlify.app/razorpay',{method:'POST',body:JSON.stringify({amount:document.getElementById(\"amount\").value}),headers:{\"Content-Type\":\"application/json\"}}).then(function(t){return t.json();});case 3:data=_context3.sent;console.log(data);document.getElementById('OrderID').value=data.id.toString();options={\"key\":\"rzp_test_jJDaCGfhqmNZbu\",// Enter the Key ID generated from the Dashboard\n\"amount\":data.amount.toString(),// Amount is in currency subunits. Default currency is INR. Hence, 50000 refers to 50000 paise\n\"currency\":data.currency.toString(),\"name\":document.getElementById(\"firstname\").value,\"description\":\"Buy Pass\",\"image\":\"https://payment-ultron-official.netlify.app/logo.svg\",\"order_id\":data.id.toString(),//This is a sample Order ID. Pass the `id` obtained in the response of Step 1\n\"handler\":function(){var _handler=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(response){var sendData;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:console.log(response);// alert(response.razorpay_payment_id);\n// alert(response.razorpay_order_id);\n// alert(response.razorpay_signature)\nalert(\"Payment Successful\");_context2.next=4;return fetch('https://payment-ultron-official.netlify.app/api/create/send/data',{method:'POST',body:JSON.stringify({OrderID:response.razorpay_order_id,PaymentID:response.razorpay_payment_id,firstname:document.getElementById(\"firstname\").value,email:document.getElementById(\"email\").value,mnumber:document.getElementById(\"mnumber\").value,amount:document.getElementById(\"amount\").value}),headers:{\"Content-Type\":\"application/json\"}}).then(function(t){return t.json();});case 4:sendData=_context2.sent;if(data.status===200){alert('Send Successful');}case 6:case\"end\":return _context2.stop();}}},_callee2);}));function handler(_x){return _handler.apply(this,arguments);}return handler;}(),\"prefill\":{\"name\":document.getElementById(\"firstname\").value,\"email\":document.getElementById(\"email\").value,\"contact\":document.getElementById(\"mnumber\").value}};rzp1=new window.Razorpay(options);rzp1.on('payment.failed',function(response){// alert(response.error.code);\nalert(response.error.description);// alert(response.error.source);\n// alert(response.error.step);\n// alert(response.error.reason);\n// alert(response.error.metadata.order_id);\n// alert(response.error.metadata.payment_id);\n});rzp1.open();case 10:case\"end\":return _context3.stop();}}},_callee3);}));return _AddRazorPayScript.apply(this,arguments);}export default AddRazorPayScript;","map":{"version":3,"names":["useEffect","LoadScript","src","Promise","resolve","script","document","createElement","body","appendChild","onload","onerror","CallScript","loadScript","alert","AddRazorPayScript","console","log","getElementById","value","fetch","method","JSON","stringify","amount","headers","then","t","json","data","id","toString","options","currency","response","OrderID","razorpay_order_id","PaymentID","razorpay_payment_id","firstname","email","mnumber","sendData","status","rzp1","window","Razorpay","on","error","description","open"],"sources":["/Users/bhavindivecha/Desktop/All Zips/SS_Project/ultron-official/src/pages/AddRazorPayScript.jsx"],"sourcesContent":["import { useEffect } from 'react';\n\n\n\nfunction LoadScript(src) {\n    return new Promise((resolve) => {\n        const script = document.createElement('script');\n        script.src = src;\n        document.body.appendChild(script);\n        script.onload = () => {\n            resolve(true);\n        }\n        script.onerror = () => {\n            resolve(false);\n        }\n\n    })\n}\nasync function CallScript() {\n    const loadScript = await LoadScript('https://checkout.razorpay.com/v1/checkout.js');\n    if (!loadScript) {\n        alert('Failed To Init Razor Pay');\n        return;\n    }\n    else {\n        alert('Success To Init Razor Pay');\n    }\n    return loadScript;\n}\nasync function AddRazorPayScript()  {\n   \n    // const script = CallScript();\n    // const datas;\n    console.log(document.getElementById(\"amount\").value);\n    const data = await fetch('https://payment-ultron-official.netlify.app/razorpay', {\n        method: 'POST',\n        body: JSON.stringify({\n            amount: document.getElementById(\"amount\").value,\n          }),\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n    }).then((t) =>\n        t.json()\n    )\n    console.log(data);\n    document.getElementById('OrderID').value = data.id.toString();\n    var options = {\n        \"key\": \"rzp_test_jJDaCGfhqmNZbu\", // Enter the Key ID generated from the Dashboard\n        \"amount\": data.amount.toString(), // Amount is in currency subunits. Default currency is INR. Hence, 50000 refers to 50000 paise\n        \"currency\":  data.currency.toString(),\n        \"name\": document.getElementById(\"firstname\").value,\n        \"description\": \"Buy Pass\",\n        \"image\": \"https://payment-ultron-official.netlify.app/logo.svg\",\n        \"order_id\": data.id.toString(), //This is a sample Order ID. Pass the `id` obtained in the response of Step 1\n        \"handler\": async function (response) {\n            console.log(response);\n            // alert(response.razorpay_payment_id);\n            // alert(response.razorpay_order_id);\n            // alert(response.razorpay_signature)\n            alert(\"Payment Successful\");\n            const sendData = await fetch('https://payment-ultron-official.netlify.app/api/create/send/data', {\n                method: 'POST',\n                body: JSON.stringify({\n                    OrderID: response.razorpay_order_id,\n                    PaymentID: response.razorpay_payment_id,\n                    firstname: document.getElementById(\"firstname\").value,\n                    email: document.getElementById(\"email\").value,\n                    mnumber: document.getElementById(\"mnumber\").value,\n                    amount: document.getElementById(\"amount\").value,\n                  }),\n                  headers: {\n                    \"Content-Type\": \"application/json\",\n                  },\n            }).then((t) =>\n                t.json()\n            )\n            if (data.status === 200) {\n                alert('Send Successful');\n            }\n        },\n        \"prefill\": {\n            \"name\": document.getElementById(\"firstname\").value,\n            \"email\": document.getElementById(\"email\").value,\n            \"contact\": document.getElementById(\"mnumber\").value\n        }\n    };\n    var rzp1 = new window.Razorpay(options);\nrzp1.on('payment.failed', function (response){\n        // alert(response.error.code);\n        alert(response.error.description);\n        // alert(response.error.source);\n        // alert(response.error.step);\n        // alert(response.error.reason);\n        // alert(response.error.metadata.order_id);\n        // alert(response.error.metadata.payment_id);\n});\n    rzp1.open();\n   \n}\nexport default AddRazorPayScript;"],"mappings":"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"},"metadata":{},"sourceType":"module"}