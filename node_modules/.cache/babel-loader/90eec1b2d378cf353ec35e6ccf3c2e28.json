{"ast":null,"code":"import { useEffect } from 'react';\n\nfunction LoadScript(src) {\n  return new Promise(resolve => {\n    const script = document.createElement('script');\n    script.src = src;\n    document.body.appendChild(script);\n\n    script.onload = () => {\n      resolve(true);\n    };\n\n    script.onerror = () => {\n      resolve(false);\n    };\n  });\n}\n\n_c = LoadScript;\n\nasync function CallScript() {\n  const loadScript = await LoadScript('https://checkout.razorpay.com/v1/checkout.js');\n\n  if (!loadScript) {\n    alert('Failed To Init Razor Pay');\n    return;\n  } else {\n    alert('Success To Init Razor Pay');\n  }\n\n  return loadScript;\n}\n\n_c2 = CallScript;\n\nasync function AddRazorPayScript() {\n  // const script = CallScript();\n  // const datas;\n  console.log(document.getElementById(\"amount\").value);\n  const data = await fetch('https://payment-ultron-official.netlify.app/.netlify/functions/api/razorpay', {\n    method: 'POST',\n    // mode: 'no-cors',\n    body: JSON.stringify({\n      amount: document.getElementById(\"amount\").value\n    })\n  }).then(t => // console.log(t)\n  t.json());\n  console.log(data);\n  document.getElementById('OrderID').value = data.id.toString();\n  var options = {\n    \"key\": \"rzp_test_jJDaCGfhqmNZbu\",\n    // Enter the Key ID generated from the Dashboard\n    \"amount\": data.amount.toString(),\n    // Amount is in currency subunits. Default currency is INR. Hence, 50000 refers to 50000 paise\n    \"currency\": data.currency.toString(),\n    \"name\": document.getElementById(\"firstname\").value,\n    \"description\": \"Buy Pass\",\n    \"image\": \"https://payment-ultron-official.netlify.app/.netlify/functions/api/logo.svg\",\n    \"order_id\": data.id.toString(),\n    //This is a sample Order ID. Pass the `id` obtained in the response of Step 1\n    \"handler\": async function (response) {\n      console.log(response); // alert(response.razorpay_payment_id);\n      // alert(response.razorpay_order_id);\n      // alert(response.razorpay_signature)\n\n      alert(\"Payment Successful\");\n      const data = await fetch('https://payment-ultron-official.netlify.app/.netlify/functions/api/razorpay', {\n        method: 'POST',\n        // mode: 'no-cors',\n        body: JSON.stringify({\n          amount: document.getElementById(\"amount\").value\n        })\n      }).then(t => // console.log(t)\n      t.json());\n      const sendData = await fetch('https://payment-ultron-official.netlify.app/.netlify/functions/api/create/send/data', {\n        method: 'POST',\n        body: JSON.stringify({\n          OrderID: response.razorpay_order_id,\n          PaymentID: response.razorpay_payment_id,\n          firstname: document.getElementById(\"firstname\").value,\n          email: document.getElementById(\"email\").value,\n          mnumber: document.getElementById(\"mnumber\").value,\n          amount: document.getElementById(\"amount\").value\n        }),\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(t => t.json());\n\n      if (data.status === 200) {\n        alert('Send Successful');\n      }\n    },\n    \"prefill\": {\n      \"name\": document.getElementById(\"firstname\").value,\n      \"email\": document.getElementById(\"email\").value,\n      \"contact\": document.getElementById(\"mnumber\").value\n    }\n  };\n  var rzp1 = new window.Razorpay(options);\n  rzp1.on('payment.failed', function (response) {\n    // alert(response.error.code);\n    alert(response.error.description); // alert(response.error.source);\n    // alert(response.error.step);\n    // alert(response.error.reason);\n    // alert(response.error.metadata.order_id);\n    // alert(response.error.metadata.payment_id);\n  });\n  rzp1.open();\n}\n\n_c3 = AddRazorPayScript;\nexport default AddRazorPayScript;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"LoadScript\");\n$RefreshReg$(_c2, \"CallScript\");\n$RefreshReg$(_c3, \"AddRazorPayScript\");","map":{"version":3,"names":["useEffect","LoadScript","src","Promise","resolve","script","document","createElement","body","appendChild","onload","onerror","CallScript","loadScript","alert","AddRazorPayScript","console","log","getElementById","value","data","fetch","method","JSON","stringify","amount","then","t","json","id","toString","options","currency","response","sendData","OrderID","razorpay_order_id","PaymentID","razorpay_payment_id","firstname","email","mnumber","headers","status","rzp1","window","Razorpay","on","error","description","open"],"sources":["/Users/bhavindivecha/Desktop/All Zips/SS_Project/ultron-official/src/pages/AddRazorPayScript.jsx"],"sourcesContent":["import { useEffect } from 'react';\n\n\n\nfunction LoadScript(src) {\n    return new Promise((resolve) => {\n        const script = document.createElement('script');\n        script.src = src;\n        document.body.appendChild(script);\n        script.onload = () => {\n            resolve(true);\n        }\n        script.onerror = () => {\n            resolve(false);\n        }\n\n    })\n}\nasync function CallScript() {\n    const loadScript = await LoadScript('https://checkout.razorpay.com/v1/checkout.js');\n    if (!loadScript) {\n        alert('Failed To Init Razor Pay');\n        return;\n    }\n    else {\n        alert('Success To Init Razor Pay');\n    }\n    return loadScript;\n}\nasync function AddRazorPayScript()  {\n   \n    // const script = CallScript();\n    // const datas;\n    console.log(document.getElementById(\"amount\").value);\n    const data = await fetch('https://payment-ultron-official.netlify.app/.netlify/functions/api/razorpay', {\n        method: 'POST',\n        // mode: 'no-cors',\n        body: JSON.stringify({\n            amount: document.getElementById(\"amount\").value,\n        }),\n    }).then((t) =>\n        // console.log(t)\n        t.json()\n    )\n    console.log(data);\n    document.getElementById('OrderID').value = data.id.toString();\n    var options = {\n        \"key\": \"rzp_test_jJDaCGfhqmNZbu\", // Enter the Key ID generated from the Dashboard\n        \"amount\": data.amount.toString(), // Amount is in currency subunits. Default currency is INR. Hence, 50000 refers to 50000 paise\n        \"currency\":  data.currency.toString(),\n        \"name\": document.getElementById(\"firstname\").value,\n        \"description\": \"Buy Pass\",\n        \"image\": \"https://payment-ultron-official.netlify.app/.netlify/functions/api/logo.svg\",\n        \"order_id\": data.id.toString(), //This is a sample Order ID. Pass the `id` obtained in the response of Step 1\n        \"handler\": async function (response) {\n            console.log(response);\n            // alert(response.razorpay_payment_id);\n            // alert(response.razorpay_order_id);\n            // alert(response.razorpay_signature)\n            alert(\"Payment Successful\");\n            const data = await fetch('https://payment-ultron-official.netlify.app/.netlify/functions/api/razorpay', {\n                method: 'POST',\n                // mode: 'no-cors',\n                body: JSON.stringify({\n                    amount: document.getElementById(\"amount\").value,\n                }),\n            }).then((t) =>\n                // console.log(t)\n                t.json()\n            )\n            const sendData = await fetch('https://payment-ultron-official.netlify.app/.netlify/functions/api/create/send/data', {\n                method: 'POST',\n                body: JSON.stringify({\n                    OrderID: response.razorpay_order_id,\n                    PaymentID: response.razorpay_payment_id,\n                    firstname: document.getElementById(\"firstname\").value,\n                    email: document.getElementById(\"email\").value,\n                    mnumber: document.getElementById(\"mnumber\").value,\n                    amount: document.getElementById(\"amount\").value,\n                  }),\n                  headers: {\n                    \"Content-Type\": \"application/json\",\n                  },\n            }).then((t) =>\n                t.json()\n            )\n            if (data.status === 200) {\n                alert('Send Successful');\n            }\n        },\n        \"prefill\": {\n            \"name\": document.getElementById(\"firstname\").value,\n            \"email\": document.getElementById(\"email\").value,\n            \"contact\": document.getElementById(\"mnumber\").value\n        }\n    };\n    var rzp1 = new window.Razorpay(options);\nrzp1.on('payment.failed', function (response){\n        // alert(response.error.code);\n        alert(response.error.description);\n        // alert(response.error.source);\n        // alert(response.error.step);\n        // alert(response.error.reason);\n        // alert(response.error.metadata.order_id);\n        // alert(response.error.metadata.payment_id);\n});\n    rzp1.open();\n   \n}\nexport default AddRazorPayScript;"],"mappings":"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"},"metadata":{},"sourceType":"module"}